.SUFFIXES: .cu

NVCC = nvcc -g -use_fast_math -arch=sm_35 -rdc=true
LFLAGS = -lcudadevrt
LFLAGS += -DMASS # Use all positive sources

SRC = thrust.cu serial.cu

OBJ = $(SRC:%.cu=%.o)

# Test for serial FMM
serial: $(OBJ)
	$(NVCC) $^ $(LFLAGS)
	./a.out

%.o: %.cu
	$(NVCC) -c $< $(LFLAGS) -I $(CUDASDKPATH)/common/inc

clean:
	rm -f serial.o

cleanall:
	rm -f *.o *.out
